#!/usr/bin/env sh
set -eu

if command -v python3 >/dev/null 2>&1; then
  exec python3 tools/check_mojibake.py --staged
fi

if command -v python >/dev/null 2>&1; then
  exec python tools/check_mojibake.py --staged
fi

if command -v py >/dev/null 2>&1; then
  exec py -3 tools/check_mojibake.py --staged
fi

echo "pre-commit: Python 3 not found, cannot run mojibake check." >&2
echo "Install Python 3 or run the check manually before commit." >&2
exit 1
